# MentorAi 플랫폼 사용자 및 역할 관리

## 1. 개요

MentorAi 플랫폼의 사용자 관리는 **역할 기반 접근 제어(RBAC)**를 중심으로 설계됩니다. 모든 사용자는 **학생(Student)**, **튜터(Tutor)**, **관리자(Admin)** 중 하나의 역할을 가지며, 역할에 따라 사용할 수 있는 기능과 데이터 접근 범위가 달라집니다.

## 2. 핵심 역할 정의 (Roles)

| 역할 (Role) | 주요 책임 및 권한 |
| :--- | :--- |
| **학생 (Student)** | - 학습 콘텐츠 조회 및 학습<br>- 통합 터미널을 이용한 실습 진행<br>- AI 멘토에게 질문하기<br>- 자신의 학습 진도 확인<br>- (읽기 전용 권한 중심) |
| **튜터 (Tutor)** | - 학생의 모든 권한 포함<br>- 학습 콘텐츠(커리큘럼, 모듈) 생성, 수정, 삭제<br>- 학생들의 학습 활동 및 질문 내용 모니터링<br>- 퀴즈 출제 및 학생 피드백 제공<br>- (콘텐츠 및 학생 관리에 대한 쓰기 권한) |
| **관리자 (Admin)** | - 튜터의 모든 권한 포함<br>- 플랫폼 전체 설정 관리<br>- 사용자 계정(튜터, 학생) 관리 및 역할 부여<br>- 시스템 상태 모니터링<br>- (플랫폼 운영에 대한 모든 권한) |

## 3. 사용자 프로필 정보

사용자의 역할과 학습 활동을 지원하기 위해 다음과 같은 프로필 정보를 관리합니다.

- **공통 정보**
    - `user_id`: 사용자 고유 ID
    - `username`: 사용자 이름
    - `email`: 이메일 (로그인 ID로 사용)
    - `password_hash`: 해시 처리된 비밀번호
    - `role`: 사용자의 역할 (student, tutor, admin)
    - `created_at`: 계정 생성일
    - `last_login_at`: 마지막 로그인 일시

- **학생 프로필 추가 정보**
    - `enrolled_courses`: 수강 신청한 커리큘럼 목록
    - `progress`: 커리큘럼별 학습 진도율
    - `activity_log`: AI 멘토 질문, 퀴즈 결과 등 활동 로그

- **튜터 프로필 추가 정보**
    - `created_courses`: 생성한 커리큘럼 목록
    - `managed_students`: 담당하고 있는 학생 목록

## 4. 주요 기능 흐름

### 4.1. 회원가입
1.  사용자는 이름, 이메일, 비밀번호를 입력하여 가입을 신청합니다.
2.  기본 역할은 **'학생(student)'**으로 자동 설정됩니다.
3.  관리자 또는 튜터가 특정 사용자를 '튜터'로 승격시킬 수 있습니다.

### 4.2. 로그인
1.  사용자는 이메일과 비밀번호로 로그인합니다.
2.  로그인 성공 시, 서버는 사용자의 `role`을 포함한 인증 토큰(예: JWT)을 발급합니다.
3.  프론트엔드는 이 `role` 값에 따라 학생용 대시보드 또는 튜터용 대시보드를 표시하는 등 UI를 다르게 렌더링합니다.

### 4.3. 역할에 따른 기능 접근 제어
-   예를 들어, 학생이 학습 콘텐츠를 수정하는 API (`PATCH /api/modules/{id}`)를 직접 호출하더라도, 백엔드 API는 요청에 포함된 인증 토큰의 `role`을 확인하고, 'tutor'가 아닐 경우 `403 Forbidden` (권한 없음) 오류를 반환하여 비인가된 작업을 차단합니다.
