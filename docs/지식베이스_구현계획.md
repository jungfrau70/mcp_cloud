# MentorAi 학습 콘텐츠 관리 시스템 구현 계획 (v0.3)

> 본 문서는 2025-08-21 'MentorAi' 컨셉을 기준으로 재작성되었습니다. 기존 MCP 기술 스택을 유지하면서, 모든 기능의 목표와 용어를 교육적 관점으로 재정의합니다.
>
> 

## 0. 핵심 변경 사항 (MentorAi 컨셉 반영)
- **프로젝트 목표 변경**: "클라우드 운영 자동화" → "**AI 기반 클라우드 기술 교육 및 멘토링**"
- **주요 사용자**: "DevOps 엔지니어/운영자" → "**튜터/강사**" 및 "**학생/학습자**"
- **기능 재해석**: 모든 KB(Knowledge Base) 기능은 "**학습 콘텐츠(Learning Content)**"를 관리하고 "**AI 멘토링**"을 제공하는 목적으로 재정의됩니다.

### 남은 핵심 작업 (단기 Next Actions)
우선순위 | 작업 | 설명 (교육적 관점) | 상태
---------|------|----|----
P1 Test | **학습 시나리오 통합 테스트** | 학생이 자료를 요청하고, 튜터가 수정/버전관리하는 End-to-End 테스트 | 예정
P1 Test | **학습자료 관리 단위 테스트** | 버전 증가, diff 생성 등 튜터의 콘텐츠 관리 기능 테스트 | 예정
P1 Ops | **학습 활동 로그** 포맷 정의 | 학생/튜터의 주요 활동(자료 조회, 퀴즈 생성 등) 로그 기록 | 예정
P1 QA | **AI 멘토링 실패 시나리오** 테스트 | AI 멘토가 답변 못할 시 적절한 피드백을 주는지 테스트 | 예정

---

## 1. 범위 & 1차 목표 (P1)
- **튜터용**: 학습 자료(파일 기반) 로드/저장 API 및 버전 관리 기능 제공.
- **학생용**: AI 멘토를 통해 외부 자료 기반의 맞춤형 학습 콘텐츠를 생성하는 파이프라인 제공.
- **공통**: WebSocket을 통해 AI 멘토의 작업 진행 상태(예: 자료 생성, 분석)를 실시간 스트리밍.

## 2. 아키텍처 개요
컴포넌트 | 기술 | 신규/변경 (교육적 관점)
---------|------|---------
학습자료 Storage | 파일시스템 + Git-like snapshot (DB) | 신규 (학습 자료의 버전 관리)
메타/버전 DB | SQLite (SQLAlchemy) | 신규 테이블 3개 (학습자료, 버전, AI멘토링 작업)
콘텐츠 인덱싱 | FAISS | 튜터가 자료 저장 시, AI 멘토가 참고할 수 있도록 비동기 색인.
AI 생성 파이프라인 | 기존 rag_service 확장 | **AI 멘토의 콘텐츠 생성 단계** 이벤트 발행
WebSocket Hub | FastAPI websocket | 신규 (실시간 멘토링 지원)

## 3. 데이터 모델 (교육적 관점)
테이블 | 필드 (주요) | 설명
-------|-------------|----
**learning_materials** | id, path, title, tags, latest_version_id | **학습 자료**의 메타데이터
**material_versions** | id, material_id, version_no, content, message, **author(tutor)** | **학습 자료**의 버전별 스냅샷
**mentoring_tasks** | id, type, status, stage, progress, input, output | **AI 멘토링 작업** (콘텐츠 생성, 퀴즈 제작 등) 추적

## 4. API 구현 현황 (P1, 교육적 관점)
엔드포인트 | 행동 | 상태 | 비고
-----------|------|------|----
GET /api/kb/item | **학습 자료 조회** | 완료 | 
POST /api/kb/item | **새 학습 자료 생성** (튜터용) | 완료 | 
PATCH /api/kb/item | **학습 자료 수정** (튜터용) | 완료 | 수정 로그(message) 포함
DELETE /api/kb/item | **학습 자료 삭제** (튜터용) | 완료 | 
GET /api/kb/versions | **학습 자료 버전 목록** 조회 | 완료 | 
GET /api/kb/diff | **버전 간 변경 내용 비교** | 부분완료 | 튜터의 수정 내역 확인용
POST /api/kb/outline | **학습 목차 추출** | 완료 | 학생의 학습 내비게이션용
POST /api/kb/compose/external | **AI 멘토의 학습자료 생성** | 완료 | 학생 요청 시 비동기 작업 생성
GET /api/kb/tasks/{id} | **AI 멘토링 작업 상태** 조회 | 완료 | 
WS /api/kb/tasks/ws | **실시간 멘토링 이벤트** Push | 완료 | 

## 5. 서비스 레이어 설계 (교육적 관점)
모듈 | 책임
-----|----
**learning_repo.py** | DB CRUD (학습자료, 버전, 멘토링 작업)
**content_files.py** | 실제 학습 자료 파일 관리
**curriculum_parser.py** | 학습 자료에서 목차(Outline) 추출
**mentoring_tasks.py** | AI 멘토링 작업 상태 관리
**mentoring_ws.py** | 실시간 멘토링을 위한 WebSocket 관리

---

## 6. 다음 단계 (P2 미리보기 & 확장)
- **AI 멘토링 고도화**: 학생의 질문에 대해 맥락을 이해하고 답변하는 Q&A 기능.
- **개인화된 학습 경로**: 학생의 이해도에 따라 AI 멘토가 다음에 학습할 자료를 추천.
- **튜터용 대시보드**: 학생들의 학습 진행 상황, 자주 묻는 질문 등을 분석하여 제공.
- **퀴즈 및 과제 기능**: AI가 학습 자료를 기반으로 퀴즈를 자동 생성하고 채점하는 기능.

---
작성: system (자동 생성)
날짜: 2025-08-21