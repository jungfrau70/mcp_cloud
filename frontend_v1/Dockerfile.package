# Package stage - Dependencies management
FROM node:20-alpine AS package

WORKDIR /app

# Copy package files
COPY package*.json ./
COPY yarn.lock ./

# Install all dependencies (including dev dependencies for build)
RUN yarn install --frozen-lockfile

# Verify key installations
RUN yarn nuxt --version
RUN node --version
RUN yarn --version
