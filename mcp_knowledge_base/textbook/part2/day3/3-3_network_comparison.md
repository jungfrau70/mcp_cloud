# 3-3. 네트워크 서비스 비교 (VPC)

이 챕터에서는 클라우드 인프라의 뼈대를 이루는 가상 네트워크 서비스, AWS VPC와 GCP VPC를 비교 분석합니다. 두 서비스의 근본적인 차이점을 이해하고, 안전하고 확장 가능한 네트워크 환경을 설계하는 기초를 다집니다.

---

### 가상 사설 클라우드: AWS VPC vs GCP VPC

**개요:** VPC(Virtual Private Cloud)는 클라우드 환경에 논리적으로 격리된 나만의 가상 네트워크 공간을 제공하는 서비스입니다. IP 주소 범위, 서브넷, 라우팅 테이블, 네트워크 게이트웨이 등을 완벽하게 제어하여 인프라를 안전하게 보호하고 구성할 수 있습니다.

| 구분 | AWS Virtual Private Cloud (VPC) | GCP Virtual Private Cloud (VPC) |
| --- | --- | --- |
| **범위 (Scope)** | **리전(Region) 단위** | **글로벌(Global) 단위** |
| **서브넷 (Subnet)** | - VPC 내부에 CIDR 블록을 나누어 생성
- 특정 가용 영역(AZ)에 종속됨 | - VPC는 서브넷의 컨테이너 역할
- 각 서브넷이 특정 리전(Region)에 종속됨 |
| **네트워크 모드** | - **Default VPC:** 계정 생성 시 각 리전에 기본 제공
- **Custom VPC:** 사용자가 직접 모든 것을 설계 | - **Auto mode:** 리전마다 서브넷을 자동으로 생성 (학습용)
- **Custom mode:** 모든 서브넷을 직접 제어 (프로덕션용)
- **Legacy mode:** (사용 비권장) | 
| **방화벽 (Firewall)** | **보안 그룹 (Security Groups)** & **NACLs**
- **보안 그룹:** 인스턴스 레벨에서 상태 기반(Stateful) 트래픽 제어
- **NACLs:** 서브넷 레벨에서 상태 비저장(Stateless) 트래픽 제어 | **VPC 방화벽 규칙 (VPC Firewall Rules)**
- VPC 네트워크 전체 또는 특정 태그/서비스 계정에 적용되는 상태 기반(Stateful) 규칙
- 우선순위(Priority) 기반으로 규칙 적용 | 
| **특징** | - 가장 먼저 상용화되어 성숙하고 안정적임
- 리전 단위로 네트워크가 명확하게 격리됨
- 리전 간 통신을 위해서는 VPC Peering, Transit Gateway 등 별도 설정 필요 | - 글로벌 VPC이므로, 별도 설정 없이 다른 리전의 리소스와 내부 IP로 통신 가능 (단, 리전 간 데이터 전송 비용 발생)
- 방화벽 규칙이 더 중앙화되고 직관적일 수 있음 | 

**결론:** 가장 큰 차이점은 **AWS VPC가 리전 단위**인데 반해 **GCP VPC는 글로벌 단위**라는 점입니다. 이로 인해 GCP는 리전 간 통신 설정이 더 간편하지만, AWS는 네트워크 경계가 더 명확하게 분리되는 특징이 있습니다. AWS의 보안 그룹과 NACL은 세분화된 제어를 제공하며, GCP의 방화벽 규칙은 중앙 관리의 편리함을 제공합니다. 어떤 방식이 더 낫다기보다는, 설계하려는 아키텍처의 특성과 요구사항에 따라 적합한 것을 선택해야 합니다.
