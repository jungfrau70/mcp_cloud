# 6-2. 심화 배포 관리 (Auto Scaling, 로드밸런싱)

이 챕터에서는 트래픽 변동에 유연하게 대응하고, 장애 발생 시에도 안정적인 서비스를 유지하는 클라우드의 핵심적인 고가용성 및 탄력성 기능인 로드밸런싱과 오토스케일링에 대해 심도 있게 학습합니다.

---

### 로드밸런싱 (Load Balancing)

로드밸런싱은 들어오는 애플리케이션 트래픽을 여러 대상(EC2 인스턴스, 컨테이너 등)에 자동으로 분산시키는 기술입니다. 이를 통해 애플리케이션의 가용성과 내결함성을 높일 수 있습니다.

| 구분 | AWS | GCP |
| --- | --- | --- |
| **핵심 서비스** | **Elastic Load Balancing (ELB)** | **Cloud Load Balancing** |
| **주요 유형** | - **Application Load Balancer (ALB):** HTTP/HTTPS 트래픽(L7)에 최적화되어 있으며, 경로 기반 라우팅 등 고급 기능을 제공합니다.
- **Network Load Balancer (NLB):** TCP/UDP 트래픽(L4)을 처리하며, 초고성능과 정적 IP 주소를 제공합니다.
- **Gateway Load Balancer (GWLB):** 방화벽, IDS/IPS 등 가상 어플라이언스를 쉽게 배포, 확장 및 관리할 수 있도록 합니다. | - **External HTTP(S) Load Balancer:** 전 세계 사용자를 대상으로 하는 HTTP(S) 트래픽을 분산합니다.
- **Internal HTTP(S) Load Balancer:** VPC 내부의 서비스 간 통신을 위한 HTTP(S) 트래픽을 분산합니다.
- **TCP/UDP Load Balancer:** TCP/UDP 트래픽을 위한 리전 기반의 로드밸런싱을 제공합니다. | 
| **작동 방식** | 로드밸런서는 상태 확인(Health Check)을 통해 정상적인 대상에게만 트래픽을 라우팅하여, 비정상적인 인스턴스를 자동으로 트래픽 분산에서 제외시킵니다. | GCP 로드밸런서는 구글의 글로벌 프라이빗 네트워크를 활용하여, 사용자와 가장 가까운 곳에서 트래픽을 처리하고 백엔드로 전달하여 뛰어난 성능을 제공합니다. | 

### 오토스케일링 (Auto Scaling)

오토스케일링은 애플리케이션의 부하를 처리하기 위해 프로비저닝된 컴퓨팅 리소스의 수를 자동으로 조정하는 기능입니다. 트래픽이 많을 때는 인스턴스 수를 늘려(Scale-out) 성능을 유지하고, 트래픽이 적을 때는 인스턴스 수를 줄여(Scale-in) 비용을 절감합니다.

| 구분 | AWS | GCP |
| --- | --- | --- |
| **핵심 서비스** | **Auto Scaling Groups (ASG)** | **Managed Instance Groups (MIGs)** |
| **주요 구성 요소** | - **시작 템플릿/구성 (Launch Template/Configuration):** 어떤 EC2 인스턴스를 시작할지에 대한 명세(AMI, 인스턴스 타입, 키 페어 등)입니다.
- **Auto Scaling Group:** 인스턴스들의 논리적인 그룹으로, 최소/최대/원하는 용량(Desired Capacity)을 정의합니다.
- **조정 정책 (Scaling Policy):** 언제, 어떻게 인스턴스 수를 조정할지를 정의합니다. (예: CPU 사용률이 70%를 넘으면 2개 인스턴스 추가) | - **인스턴스 템플릿 (Instance Template):** 어떤 VM 인스턴스를 생성할지에 대한 명세입니다.
- **Managed Instance Group:** 동일한 인스턴스 템플릿을 사용하는 VM들의 그룹입니다.
- **자동 확장 정책 (Autoscaling Policy):** CPU 사용률, 부하 분산 용량, 커스텀 측정항목 등 다양한 신호를 기반으로 그룹의 크기를 조정합니다. | 
| **특징** | - 예측 조정(Predictive Scaling) 기능을 통해 기계 학습을 사용하여 예상 트래픽에 맞춰 용량을 미리 조정할 수 있습니다.
- 다양한 AWS 서비스(CloudWatch, SQS 등)와 긴밀하게 통합됩니다. | - 상태 확인 기반의 자동 복구(Auto-healing) 기능이 내장되어 있어, 비정상적인 VM을 자동으로 재생성합니다.
- 여러 영역(Zone)에 걸쳐 인스턴스를 분산하여 리전 장애에 대비할 수 있습니다. | 

**결론:** 로드밸런싱과 오토스케일링은 클라우드 아키텍처의 핵심입니다. 이 두 가지를 함께 사용하면, 비용 효율적이고, 안정적이며, 트래픽 변화에 자동으로 대응하는 탄력적인 애플리케이션을 구축할 수 있습니다.
